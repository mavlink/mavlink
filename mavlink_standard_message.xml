<?xml version="1.0"?>
<messages>
 
   <message name="HEARTBEAT" id="0">
     <field name="type" type="uint8_t">Type of the MAV (quadrotor, helicopter, etc.)</field>
   </message>
 
   <message name="BOOT" id="1">
     <field name="version" type="uint32_t">The onboard software version</field>
   </message>

   <message name="ACTION" id="20">
     <field name="target" type="uint8_t">The system executing the action</field>
     <field name="action" type="uint8_t">The action id</field>
   </message>

   <message name="SET_MODE" id="21">
     <field name="target" type="uint8_t">The system setting the mode</field>
     <field name="mode" type="uint8_t">The new mode</field>
   </message>

   <message name="SET_ALTITUDE" id="22">
     <field name="target" type="uint8_t">The system setting the altitude</field>
     <field name="mode" type="uint32_t">The new altitude in meters</field>
   </message>

   <message name="MANUAL_CONTROL" id="50">
     <field name="target" type="uint8_t">The system to be controlled</field>
     <field name="roll" type="float">roll</field>
     <field name="pitch" type="float">pitch</field>
     <field name="yaw" type="float">yaw</field>
     <field name="thrust" type="float">thrust</field>
     <field name="roll_manual" type="uint8_t">roll control enabled auto:0, manual:1</field>
     <field name="pitch_manual" type="uint8_t">pitch auto:0, manual:1</field>
     <field name="yaw_manual" type="uint8_t">yaw auto:0, manual:1</field>
     <field name="thrust_manual" type="uint8_t">thrust auto:0, manual:1</field>
   </message>

  <message name="ATTITUDE_CONTROL" id="51">
     <field name="target" type="uint8_t">The system to be controlled</field>
     <field name="roll" type="float">roll</field>
     <field name="pitch" type="float">pitch</field>
     <field name="yaw" type="float">yaw</field>
     <field name="thrust" type="float">thrust</field>
     <field name="roll_manual" type="uint8_t">roll control enabled auto:0, manual:1</field>
     <field name="pitch_manual" type="uint8_t">pitch auto:0, manual:1</field>
     <field name="yaw_manual" type="uint8_t">yaw auto:0, manual:1</field>
     <field name="thrust_manual" type="uint8_t">thrust auto:0, manual:1</field>
   </message>
 
   <message name="RAW_SENSOR" id="100">
     <field name="msec"  type="uint32_t">Timestamp (milliseconds)</field>
     <field name="xacc"  type="int32_t">X acceleration (mg raw)</field>
     <field name="yacc"  type="int32_t">Y acceleration (mg raw)</field>
     <field name="zacc"  type="int32_t">Z acceleration (mg raw)</field>
     <field name="xgyro" type="uint32_t">Angular speed around X axis (adc units)</field>
     <field name="ygyro" type="uint32_t">Angular speed around Y axis (adc units)</field>
     <field name="zgyro" type="uint32_t">Angular speed around Z axis (adc units)</field>
     <field name="xmag"  type="uint32_t">X Magnetic field (milli tesla)</field>
     <field name="ymag"  type="uint32_t">Y Magnetic field (milli tesla)</field>
     <field name="zmag"  type="uint32_t">Z Magnetic field (milli tesla)</field>
     <field name="baro"  type="int32_t">Barometric pressure (hecto Pascal)</field>
     <field name="gdist" type="uint32_t">Ground distance (meters)</field>
     <field name="temp"  type="int32_t">Temperature (degrees celcius)</field>
   </message>

   <message name="RAW_IMU" id="101">
     <field name="msec"  type="uint32_t">Timestamp (milliseconds)</field>
     <field name="xacc"  type="int32_t">X acceleration (mg raw)</field>
     <field name="yacc"  type="int32_t">Y acceleration (mg raw)</field>
     <field name="zacc"  type="int32_t">Z acceleration (mg raw)</field>
     <field name="xgyro" type="uint32_t">Angular speed around X axis (adc units)</field>
     <field name="ygyro" type="uint32_t">Angular speed around Y axis (adc units)</field>
     <field name="zgyro" type="uint32_t">Angular speed around Z axis (adc units)</field>
     <field name="xmag"  type="int32_t">X Magnetic field (milli tesla)</field>
     <field name="ymag"  type="int32_t">Y Magnetic field (milli tesla)</field>
     <field name="zmag"  type="int32_t">Z Magnetic field (milli tesla)</field>
   </message>

   <message name="RAW_AUX" id="102">
     <field name="adc1" type="uint32_t">ADC1 (J405 ADC3, LPC2148 AD0.6)</field>
     <field name="adc2" type="uint32_t">ADC2 (J405 ADC5, LPC2148 AD0.2)</field>
     <field name="adc3" type="uint32_t">ADC3 (J405 ADC6, LPC2148 AD0.1)</field>
     <field name="adc4" type="uint32_t">ADC4 (J405 ADC7, LPC2148 AD1.3)</field>
     <field name="vbat" type="uint32_t">Battery voltage</field>
     <field name="temp"  type="int32_t">Temperature (degrees celcius)</field>
     <field name="baro"  type="int32_t">Barometric pressure (hecto Pascal)</field>
   </message>

   <message name="SYS_STATUS" id="103">
     <field name="mode" type="uint8_t">System mode</field>
     <field name="status" type="uint8_t">System status flag</field>
     <field name="vbat" type="uint16_t">Battery voltage</field>
     <field name="motor_block" type="uint8_t">Motor block status flag</field>
     <field name="packet_drop" type="uint16_t">Dropped packets</field>
   </message>

   <message name="AUX_STATUS" id="104">
     <field name="load" type="uint16_t">Maximum usage in percent of the mainloop time, should be always below 100</field>
   </message>

   <message name="SET_CAM_SHUTTER" id="70">
     <field name="cam_id" type="uint16_t">Camera id</field>
     <field name="cam_mode" type="uint8_t">Camera mode: 0 = auto, 1 = manual</field>
     <field name="trigger_pin" type="uint8_t">Trigger pin, 0-3 for PtGrey FireFly</field>
     <field name="interval" type="uint16_t">Shutter interval, in microseconds</field>
     <field name="exposure" type="uint16_t">Exposure time, in microseconds</field>
     <field name="gain" type="float">Camera gain</field>
   </message>

   <message name="PARAM_REQUEST_READ" id="80">
     <field name="param_id" type="uint16_t">Camera id</field>
   </message>

   <message name="PARAM_VALUE" id="80">
     <field name="param_id" type="uint16_t">Onboard parameter id</field>
     <field name="param_value" type="float">Onboard parameter value</field>
   </message>

   <message name="PARAM_WRITE" id="80">
     <field name="param_id" type="uint16_t">Onboard parameter id</field>
     <field name="param_value" type="float">Onboard parameter value</field>
   </message>

   <message name="ATTITUDE" id="90">
     <field name="msec"  type="uint32_t">Timestamp (milliseconds)</field>
     <field name="roll"  type="float">Roll angle (rad)</field>
     <field name="pitch" type="float">Pitch angle (rad)</field>
     <field name="yaw"   type="float">Yaw angle (rad)</field>
     <field name="rollspeed"  type="float">Roll angular speed (rad/s)</field>
     <field name="pitchspeed" type="float">Pitch angular speed (rad/s)</field>
     <field name="yawspeed"   type="float">Yaw angular speed (rad/s)</field>
   </message>

   <message name="POSITION" id="91">
     <field name="msec"  type="uint32_t">Timestamp (milliseconds)</field>
     <field name="x"  type="float">X Position</field>
     <field name="y" type="float">Y Position</field>
     <field name="z"   type="float">Z Position</field>
     <field name="vx"  type="float">X Speed</field>
     <field name="vy" type="float">Y Speed</field>
     <field name="vz"   type="float">Z Speed</field>
   </message>

  <message name="PATTERN_DETECTED" id= "200">
    <field name="confidence" type="float">Confidence of detection</field>
    <field name="file" type="array[100]">Pattern file name</field>
   </message>

  <message name="STATUSTEXT" id= "254">
    <field name="severity" type="uint8_t">Severity of status, 0 = info message, 255 = critical fault</field>
    <field name="text" type="array[254]">Status text message, without null termination character</field>
   </message>


<message name="DEBUG" id="255">
     <field name="ind"  type="uint8_t">index of debug variable</field>
     <field name="value"  type="float">DEBUG value</field>
   </message>
 
</messages>