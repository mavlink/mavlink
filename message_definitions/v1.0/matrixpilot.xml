<?xml version='1.0'?>
<mavlink>
    <include>common.xml</include>
    <!-- note that UDB specific messages should use the command id range from 150 to 250, to leave plenty of room for growth of common.xml If you prototype a message here, then you should consider if it is general enough to move into common.xml later -->
    <enums>
        <enum name="MAV_PREFLIGHT_STORAGE_ACTION">
            <description>Action required when performing CMD_PREFLIGHT_STORAGE</description>
            <entry name="MAV_PFS_CMD_READ_ALL" value="0">
                <description>Read all parameters from storage</description>
            </entry>

            <entry name="MAV_PFS_CMD_WRITE_ALL" value="1">
                <description>Write all parameters to storage</description>
            </entry>

            <entry name="MAV_PFS_CMD_CLEAR_ALL" value="2">
                <description>Clear all parameters in storage</description>
            </entry>

            <entry name="MAV_PFS_CMD_READ_SPECIFIC" value="3">
                <description>Read specific parameters from storage</description>
            </entry>

            <entry name="MAV_PFS_CMD_WRITE_SPECIFIC" value="4">
                <description>Write specific parameters to storage</description>
            </entry>

            <entry name="MAV_PFS_CMD_CLEAR_SPECIFIC" value="5">
                <description>Clear specific parameters in storage</description>
            </entry>

            <entry name="MAV_PFS_CMD_DO_NOTHING" value="6">
                <description>do nothing</description>
            </entry>
        </enum>

        <enum name="MAV_CMD">
            <entry name="MAV_CMD_PREFLIGHT_STORAGE_ADVANCED" value="0">
                <description>Request storage of different parameter values and logs. This command will be only accepted if in pre-flight mode.</description>
                <param index="1">Storage action: Action defined by MAV_PREFLIGHT_STORAGE_ACTION_ADVANCED</param>
                <param index="2">Storage area as defined by parameter database</param>
                <param index="3">Storage flags as defined by parameter database</param>
                <param index="4">Empty</param>
                <param index="5">Empty</param>
                <param index="6">Empty</param>
                <param index="7">Empty</param>
            </entry>
        </enum>
    </enums>

    <messages>
        <message id="150" name="FLEXIFUNCTION_SET">
            <description>Depreciated but used as a compiler flag. Do not remove</description>
            <field name="target_system" type="uint8_t">System ID</field>
            <field name="target_component" type="uint8_t">Component ID</field>
        </message>

        <message id="151" name="FLEXIFUNCTION_READ_REQ">
            <description>Reqest reading of flexifunction data</description>
            <field name="target_system" type="uint8_t">System ID</field>
            <field name="target_component" type="uint8_t">Component ID</field>
            <field name="read_req_type" type="int16_t">Type of flexifunction data requested</field>
            <field name="data_index" type="int16_t">index into data where needed</field>
        </message>

        <message id="152" name="FLEXIFUNCTION_BUFFER_FUNCTION">
            <description>Flexifunction type and parameters for component at function index from buffer</description>
            <field name="target_system" type="uint8_t">System ID</field>
            <field name="target_component" type="uint8_t">Component ID</field>
            <field name="func_index" type="uint16_t">Function index</field>
            <field name="func_count" type="uint16_t">Total count of functions</field>
            <field name="data_address" type="uint16_t">Address in the flexifunction data, Set to 0xFFFF to use address in target memory</field>
            <field name="data_size" type="uint16_t">Size of the</field>
            <field name="data" type="int8_t[48]">Settings data</field>
        </message>

        <message id="153" name="FLEXIFUNCTION_BUFFER_FUNCTION_ACK">
            <description>Flexifunction type and parameters for component at function index from buffer</description>
            <field name="target_system" type="uint8_t">System ID</field>
            <field name="target_component" type="uint8_t">Component ID</field>
            <field name="func_index" type="uint16_t">Function index</field>
            <field name="result" type="uint16_t">result of acknowledge, 0=fail, 1=good</field>
        </message>

        <message id="155" name="FLEXIFUNCTION_DIRECTORY">
            <description>Acknowldge sucess or failure of a flexifunction command</description>
            <field name="target_system" type="uint8_t">System ID</field>
            <field name="target_component" type="uint8_t">Component ID</field>
            <field name="directory_type" type="uint8_t">0=inputs, 1=outputs</field>
            <field name="start_index" type="uint8_t">index of first directory entry to write</field>
            <field name="count" type="uint8_t">count of directory entries to write</field>
            <field name="directory_data" type="int8_t[48]">Settings data</field>
        </message>

        <message id="156" name="FLEXIFUNCTION_DIRECTORY_ACK">
            <description>Acknowldge sucess or failure of a flexifunction command</description>
            <field name="target_system" type="uint8_t">System ID</field>
            <field name="target_component" type="uint8_t">Component ID</field>
            <field name="directory_type" type="uint8_t">0=inputs, 1=outputs</field>
            <field name="start_index" type="uint8_t">index of first directory entry to write</field>
            <field name="count" type="uint8_t">count of directory entries to write</field>
            <field name="result" type="uint16_t">result of acknowledge, 0=fail, 1=good</field>
        </message>

        <message id="157" name="FLEXIFUNCTION_COMMAND">
            <description>Acknowldge sucess or failure of a flexifunction command</description>
            <field name="target_system" type="uint8_t">System ID</field>
            <field name="target_component" type="uint8_t">Component ID</field>
            <field name="command_type" type="uint8_t">Flexifunction command type</field>
        </message>

        <message id="158" name="FLEXIFUNCTION_COMMAND_ACK">
            <description>Acknowldge sucess or failure of a flexifunction command</description>
            <field name="command_type" type="uint16_t">Command acknowledged</field>
            <field name="result" type="uint16_t">result of acknowledge</field>
        </message>

        <message id="170" name="SERIAL_UDB_EXTRA_F2_A">
            <description>Backwards compatible MAVLink version of SERIAL_UDB_EXTRA - F2: Format Part A</description>
            <field name="sue_time" type="uint32_t">Serial UDB Extra Time</field>
            <field name="sue_status" type="uint8_t">Serial UDB Extra Status</field>
            <field name="sue_latitude" type="int32_t">Serial UDB Extra Latitude</field>
            <field name="sue_longitude" type="int32_t">Serial UDB Extra Longitude</field>
            <field name="sue_altitude" type="int32_t">Serial UDB Extra Altitude</field>
            <field name="sue_waypoint_index" type="uint16_t">Serial UDB Extra Waypoint Index</field>
            <field name="sue_rmat0" type="int16_t">Serial UDB Extra Rmat 0</field>
            <field name="sue_rmat1" type="int16_t">Serial UDB Extra Rmat 1</field>
            <field name="sue_rmat2" type="int16_t">Serial UDB Extra Rmat 2</field>
            <field name="sue_rmat3" type="int16_t">Serial UDB Extra Rmat 3</field>
            <field name="sue_rmat4" type="int16_t">Serial UDB Extra Rmat 4</field>
            <field name="sue_rmat5" type="int16_t">Serial UDB Extra Rmat 5</field>
            <field name="sue_rmat6" type="int16_t">Serial UDB Extra Rmat 6</field>
            <field name="sue_rmat7" type="int16_t">Serial UDB Extra Rmat 7</field>
            <field name="sue_rmat8" type="int16_t">Serial UDB Extra Rmat 8</field>
            <field name="sue_cog" type="uint16_t">Serial UDB Extra GPS Course Over Ground</field>
            <field name="sue_sog" type="int16_t">Serial UDB Extra Speed Over Ground</field>
            <field name="sue_cpu_load" type="uint16_t">Serial UDB Extra CPU Load</field>
            <field name="sue_voltage_milis" type="int16_t">Serial UDB Extra Voltage in MilliVolts</field>
            <field name="sue_air_speed_3DIMU" type="uint16_t">Serial UDB Extra 3D IMU Air Speed</field>
            <field name="sue_estimated_wind_0" type="int16_t">Serial UDB Extra Estimated Wind 0</field>
            <field name="sue_estimated_wind_1" type="int16_t">Serial UDB Extra Estimated Wind 1</field>
            <field name="sue_estimated_wind_2" type="int16_t">Serial UDB Extra Estimated Wind 2</field>
            <field name="sue_magFieldEarth0" type="int16_t">Serial UDB Extra Magnetic Field Earth 0</field>
            <field name="sue_magFieldEarth1" type="int16_t">Serial UDB Extra Magnetic Field Earth 1</field>
            <field name="sue_magFieldEarth2" type="int16_t">Serial UDB Extra Magnetic Field Earth 2</field>
            <field name="sue_svs" type="int16_t">Serial UDB Extra Number of Sattelites in View</field>
            <field name="sue_hdop" type="int16_t">Serial UDB Extra GPS Horizontal Dilution of Precision</field>
        </message>

        <message id="171" name="SERIAL_UDB_EXTRA_F2_B">
            <description>Backwards compatible version of SERIAL_UDB_EXTRA - F2: Part B</description>
            <field name="sue_time" type="uint32_t">Serial UDB Extra Time</field>
            <field name="sue_pwm_input_1" type="int16_t">Serial UDB Extra PWM Input Channel 1</field>
            <field name="sue_pwm_input_2" type="int16_t">Serial UDB Extra PWM Input Channel 2</field>
            <field name="sue_pwm_input_3" type="int16_t">Serial UDB Extra PWM Input Channel 3</field>
            <field name="sue_pwm_input_4" type="int16_t">Serial UDB Extra PWM Input Channel 4</field>
            <field name="sue_pwm_input_5" type="int16_t">Serial UDB Extra PWM Input Channel 5</field>
            <field name="sue_pwm_input_6" type="int16_t">Serial UDB Extra PWM Input Channel 6</field>
            <field name="sue_pwm_input_7" type="int16_t">Serial UDB Extra PWM Input Channel 7</field>
            <field name="sue_pwm_input_8" type="int16_t">Serial UDB Extra PWM Input Channel 8</field>
            <field name="sue_pwm_input_9" type="int16_t">Serial UDB Extra PWM Input Channel 9</field>
            <field name="sue_pwm_input_10" type="int16_t">Serial UDB Extra PWM Input Channel 10</field>
            <field name="sue_pwm_output_1" type="int16_t">Serial UDB Extra PWM Output Channel 1</field>
            <field name="sue_pwm_output_2" type="int16_t">Serial UDB Extra PWM Output Channel 2</field>
            <field name="sue_pwm_output_3" type="int16_t">Serial UDB Extra PWM Output Channel 3</field>
            <field name="sue_pwm_output_4" type="int16_t">Serial UDB Extra PWM Output Channel 4</field>
            <field name="sue_pwm_output_5" type="int16_t">Serial UDB Extra PWM Output Channel 5</field>
            <field name="sue_pwm_output_6" type="int16_t">Serial UDB Extra PWM Output Channel 6</field>
            <field name="sue_pwm_output_7" type="int16_t">Serial UDB Extra PWM Output Channel 7</field>
            <field name="sue_pwm_output_8" type="int16_t">Serial UDB Extra PWM Output Channel 8</field>
            <field name="sue_pwm_output_9" type="int16_t">Serial UDB Extra PWM Output Channel 9</field>
            <field name="sue_pwm_output_10" type="int16_t">Serial UDB Extra PWM Output Channel 10</field>
            <field name="sue_imu_location_x" type="int16_t">Serial UDB Extra IMU Location X</field>
            <field name="sue_imu_location_y" type="int16_t">Serial UDB Extra IMU Location Y</field>
            <field name="sue_imu_location_z" type="int16_t">Serial UDB Extra IMU Location Z</field>
            <field name="sue_flags" type="uint32_t">Serial UDB Extra Status Flags</field>
            <field name="sue_osc_fails" type="int16_t">Serial UDB Extra Oscillator Failure Count</field>
            <field name="sue_imu_velocity_x" type="int16_t">Serial UDB Extra IMU Velocity X</field>
            <field name="sue_imu_velocity_y" type="int16_t">Serial UDB Extra IMU Velocity Y</field>
            <field name="sue_imu_velocity_z" type="int16_t">Serial UDB Extra IMU Velocity Z</field>
            <field name="sue_waypoint_goal_x" type="int16_t">Serial UDB Extra Current Waypoint Goal X</field>
            <field name="sue_waypoint_goal_y" type="int16_t">Serial UDB Extra Current Waypoint Goal Y</field>
            <field name="sue_waypoint_goal_z" type="int16_t">Serial UDB Extra Current Waypoint Goal Z</field>
            <field name="sue_memory_stack_free" type="int16_t">Serial UDB Extra Stack Memory Free</field>
        </message>

        <message id="172" name="SERIAL_UDB_EXTRA_F4">
            <description>Backwards compatible version of SERIAL_UDB_EXTRA F4: format</description>
            <field name="sue_ROLL_STABILIZATION_AILERONS" type="uint8_t">Serial UDB Extra Roll Stabilization with Ailerons Enabled</field>
            <field name="sue_ROLL_STABILIZATION_RUDDER" type="uint8_t">Serial UDB Extra Roll Stabilization with Rudder Enabled</field>
            <field name="sue_PITCH_STABILIZATION" type="uint8_t">Serial UDB Extra Pitch Stabilization Enabled</field>
            <field name="sue_YAW_STABILIZATION_RUDDER" type="uint8_t">Serial UDB Extra Yaw Stabilization using Rudder Enabled</field>
            <field name="sue_YAW_STABILIZATION_AILERON" type="uint8_t">Serial UDB Extra Yaw Stabilization using Ailerons Enabled</field>
            <field name="sue_AILERON_NAVIGATION" type="uint8_t">Serial UDB Extra Navigation with Ailerons Enabled</field>
            <field name="sue_RUDDER_NAVIGATION" type="uint8_t">Serial UDB Extra Navigation with Rudder Enabled</field>
            <field name="sue_ALTITUDEHOLD_STABILIZED" type="uint8_t">Serial UDB Extra Type of Alitude Hold when in Stabilized Mode</field>
            <field name="sue_ALTITUDEHOLD_WAYPOINT" type="uint8_t">Serial UDB Extra Type of Alitude Hold when in Waypoint Mode</field>
            <field name="sue_RACING_MODE" type="uint8_t">Serial UDB Extra Firmware racing mode enabled</field>
        </message>

        <message id="173" name="SERIAL_UDB_EXTRA_F5">
            <description>Backwards compatible version of SERIAL_UDB_EXTRA F5: format</description>
            <field name="sue_YAWKP_AILERON" type="float">Serial UDB YAWKP_AILERON Gain for Proporional control of navigation</field>
            <field name="sue_YAWKD_AILERON" type="float">Serial UDB YAWKD_AILERON Gain for Rate control of navigation</field>
            <field name="sue_ROLLKP" type="float">Serial UDB Extra ROLLKP Gain for Proportional control of roll stabilization</field>
            <field name="sue_ROLLKD" type="float">Serial UDB Extra ROLLKD Gain for Rate control of roll stabilization</field>
            <field name="sue_YAW_STABILIZATION_AILERON" type="float">YAW_STABILIZATION_AILERON Proportional control</field>
            <field name="sue_AILERON_BOOST" type="float">Gain For Boosting Manual Aileron control When Plane Stabilized</field>
        </message>

        <message id="174" name="SERIAL_UDB_EXTRA_F6">
            <description>Backwards compatible version of SERIAL_UDB_EXTRA F6: format</description>
            <field name="sue_PITCHGAIN" type="float">Serial UDB Extra PITCHGAIN Proportional Control</field>
            <field name="sue_PITCHKD" type="float">Serial UDB Extra Pitch Rate Control</field>
            <field name="sue_RUDDER_ELEV_MIX" type="float">Serial UDB Extra Rudder to Elevator Mix</field>
            <field name="sue_ROLL_ELEV_MIX" type="float">Serial UDB Extra Roll to Elevator Mix</field>
            <field name="sue_ELEVATOR_BOOST" type="float">Gain For Boosting Manual Elevator control When Plane Stabilized</field>
        </message>

        <message id="175" name="SERIAL_UDB_EXTRA_F7">
            <description>Backwards compatible version of SERIAL_UDB_EXTRA F7: format</description>
            <field name="sue_YAWKP_RUDDER" type="float">Serial UDB YAWKP_RUDDER Gain for Proporional control of navigation</field>
            <field name="sue_YAWKD_RUDDER" type="float">Serial UDB YAWKD_RUDDER Gain for Rate control of navigation</field>
            <field name="sue_ROLLKP_RUDDER" type="float">Serial UDB Extra ROLLKP_RUDDER Gain for Proportional control of roll stabilization</field>
            <field name="sue_ROLLKD_RUDDER" type="float">Serial UDB Extra ROLLKD_RUDDER Gain for Rate control of roll stabilization</field>
            <field name="sue_RUDDER_BOOST" type="float">SERIAL UDB EXTRA Rudder Boost Gain to Manual Control when stabilized</field>
            <field name="sue_RTL_PITCH_DOWN" type="float">Serial UDB Extra Return To Landing - Angle to Pitch Plane Down</field>
        </message>

        <message id="176" name="SERIAL_UDB_EXTRA_F8">
            <description>Backwards compatible version of SERIAL_UDB_EXTRA F8: format</description>
            <field name="sue_HEIGHT_TARGET_MAX" type="float">Serial UDB Extra HEIGHT_TARGET_MAX</field>
            <field name="sue_HEIGHT_TARGET_MIN" type="float">Serial UDB Extra HEIGHT_TARGET_MIN</field>
            <field name="sue_ALT_HOLD_THROTTLE_MIN" type="float">Serial UDB Extra ALT_HOLD_THROTTLE_MIN</field>
            <field name="sue_ALT_HOLD_THROTTLE_MAX" type="float">Serial UDB Extra ALT_HOLD_THROTTLE_MAX</field>
            <field name="sue_ALT_HOLD_PITCH_MIN" type="float">Serial UDB Extra ALT_HOLD_PITCH_MIN</field>
            <field name="sue_ALT_HOLD_PITCH_MAX" type="float">Serial UDB Extra ALT_HOLD_PITCH_MAX</field>
            <field name="sue_ALT_HOLD_PITCH_HIGH" type="float">Serial UDB Extra ALT_HOLD_PITCH_HIGH</field>
        </message>

        <message id="177" name="SERIAL_UDB_EXTRA_F13">
            <description>Backwards compatible version of SERIAL_UDB_EXTRA F13: format</description>
            <field name="sue_week_no" type="int16_t">Serial UDB Extra GPS Week Number</field>
            <field name="sue_lat_origin" type="int32_t">Serial UDB Extra MP Origin Latitude</field>
            <field name="sue_lon_origin" type="int32_t">Serial UDB Extra MP Origin Longitude</field>
            <field name="sue_alt_origin" type="int32_t">Serial UDB Extra MP Origin Altitude Above Sea Level</field>
        </message>

        <message id="178" name="SERIAL_UDB_EXTRA_F14">
            <description>Backwards compatible version of SERIAL_UDB_EXTRA F14: format</description>
            <field name="sue_WIND_ESTIMATION" type="uint8_t">Serial UDB Extra Wind Estimation Enabled</field>
            <field name="sue_GPS_TYPE" type="uint8_t">Serial UDB Extra Type of GPS Unit</field>
            <field name="sue_DR" type="uint8_t">Serial UDB Extra Dead Reckoning Enabled</field>
            <field name="sue_BOARD_TYPE" type="uint8_t">Serial UDB Extra Type of UDB Hardware</field>
            <field name="sue_AIRFRAME" type="uint8_t">Serial UDB Extra Type of Airframe</field>
            <field name="sue_RCON" type="int16_t">Serial UDB Extra Reboot Regitster of DSPIC</field>
            <field name="sue_TRAP_FLAGS" type="int16_t">Serial UDB Extra Last dspic Trap Flags</field>
            <field name="sue_TRAP_SOURCE" type="uint32_t">Serial UDB Extra Type Program Address of Last Trap</field>
            <field name="sue_osc_fail_count" type="int16_t">Serial UDB Extra Number of Ocillator Failures</field>
            <field name="sue_CLOCK_CONFIG" type="uint8_t">Serial UDB Extra UDB Internal Clock Configuration</field>
            <field name="sue_FLIGHT_PLAN_TYPE" type="uint8_t">Serial UDB Extra Type of Flight Plan</field>
        </message>

        <message id="179" name="SERIAL_UDB_EXTRA_F15">
            <description>Backwards compatible version of SERIAL_UDB_EXTRA F15 and F16: format</description>
            <field name="sue_ID_VEHICLE_MODEL_NAME" type="uint8_t[40]">Serial UDB Extra Model Name Of Vehicle</field>
            <field name="sue_ID_VEHICLE_REGISTRATION" type="uint8_t[20]">Serial UDB Extra Registraton Number of Vehicle</field>
        </message>

        <message id="180" name="SERIAL_UDB_EXTRA_F16">
            <field name="sue_ID_LEAD_PILOT" type="uint8_t[40]">Serial UDB Extra Name of Expected Lead Pilot</field>
            <field name="sue_ID_DIY_DRONES_URL" type="uint8_t[70]">Serial UDB Extra URL of Lead Pilot or Team</field>
        </message>

        <message id="181" name="ALTITUDES">
            <description>The altitude measured by sensors and IMU</description>
            <field name="time_boot_ms" type="uint32_t">Timestamp (milliseconds since system boot)</field>
            <field name="alt_gps" type="int32_t">GPS altitude in meters, expressed as * 1000 (millimeters), above MSL</field>
            <field name="alt_imu" type="int32_t">IMU altitude above ground in meters, expressed as * 1000 (millimeters)</field>
            <field name="alt_barometric" type="int32_t">barometeric altitude above ground in meters, expressed as * 1000 (millimeters)</field>
            <field name="alt_optical_flow" type="int32_t">Optical flow altitude above ground in meters, expressed as * 1000 (millimeters)</field>
            <field name="alt_range_finder" type="int32_t">Rangefinder Altitude above ground in meters, expressed as * 1000 (millimeters)</field>
            <field name="alt_extra" type="int32_t">Extra altitude above ground in meters, expressed as * 1000 (millimeters)</field>
        </message>

        <message id="182" name="AIRSPEEDS">
            <description>The airspeed measured by sensors and IMU</description>
            <field name="time_boot_ms" type="uint32_t">Timestamp (milliseconds since system boot)</field>
            <field name="airspeed_imu" type="int16_t">Airspeed estimate from IMU, cm/s</field>
            <field name="airspeed_pitot" type="int16_t">Pitot measured forward airpseed, cm/s</field>
            <field name="airspeed_hot_wire" type="int16_t">Hot wire anenometer measured airspeed, cm/s</field>
            <field name="airspeed_ultrasonic" type="int16_t">Ultrasonic measured airspeed, cm/s</field>
            <field name="aoa" type="int16_t">Angle of attack sensor, degrees * 10</field>
            <field name="aoy" type="int16_t">Yaw angle sensor, degrees * 10</field>
        </message>
    </messages>
</mavlink>
