<?xml version="1.0"?>
<mavlink>
  <!-- Complete message set for use on Aviant UAS  -->
  <!-- https://github.com/aviant/mavlink           -->
  <!-- mavlink ID range: 59000 - 59099             -->
  <include>development.xml</include>
  <include>common.xml</include>
  <include>AVSSUAS.xml</include>
  <include>ardupilotmega.xml</include>
  <version>0</version>
  <dialect>0</dialect>
  <enums>
    <enum name="AVIANT_STATE">
      <description>Aviant system state</description>
      <entry name="UNSPECIFIED" value="0"/>
    </enum>
    <enum name="AVIANT_INDICATOR_STATE">
      <description>Display state for Aviant indicators</description>
      <entry name="AVIANT_INDICATOR_STATE_INACTIVE" value="0"/>
      <entry name="AVIANT_INDICATOR_STATE_NOMINAL" value="1"/>
      <entry name="AVIANT_INDICATOR_STATE_WARNING" value="2"/>
      <entry name="AVIANT_INDICATOR_STATE_CRITICAL" value="3"/>
    </enum>
  </enums>
  <messages>
    <message name="AVIANT_HEARTBEAT" id="59000">
      <description>Shows that a system is running Aviant protocol</description>
      <field name="state" type="uint8_t" enum="AVIANT_STATE">Current state of the system/component</field>
    </message>
    <message name="AVIANT_INDICATOR_DUMMY" id="59001">
      <description>Dummy message for testing Aviant indicators</description>
      <field name="state" type="uint8_t" enum="AVIANT_INDICATOR_STATE"/>
      <field name="float_value" type="float"/>
      <field name="float_array" type="float[4]"/>
      <field name="uint8_value" type="uint8_t"/>
      <field name="int32_value" type="int32_t"/>
      <field name="text_value" type="char[8]"/>
    </message>
    <message name="AVIANT_INDICATOR_NAV" id="59002">
      <description>Navigation indicators</description>
      <field name="state_accuracy" type="uint8_t" enum="AVIANT_INDICATOR_STATE">Absolute position accuracy</field>
      <field name="state_redundancy" type="uint8_t" enum="AVIANT_INDICATOR_STATE">Navigation sensor redundancy</field>
    </message>
    <message name="AVIANT_INDICATOR_MR_THRUST" id="59003">
      <description>Top motor thrust levels</description>
      <field name="state" type="uint8_t" enum="AVIANT_INDICATOR_STATE"/>
      <field name="thrust_margin" type="float">Remaining thrust margin on the heaviest loaded motor</field>
      <field name="thrust_margin_omi" type="float">Estimated remaining thrust margin on the heaviest loaded motor, in case one motor becomes inoperative</field>
    </message>
    <message name="AVIANT_INDICATOR_FW_ICING" id="59004">
      <description>Icing indicator</description>
      <field name="state" type="uint8_t" enum="AVIANT_INDICATOR_STATE">Icing severity</field>
    </message>
  </messages>
</mavlink>
